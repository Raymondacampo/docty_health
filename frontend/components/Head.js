import { use, useEffect, useState } from "react";
import { apiClient } from "@/utils/api";
import { useAuth } from "@/context/auth";
import { UserIcon, Cog6ToothIcon, CalendarDateRangeIcon } from '@heroicons/react/24/solid';
import {CheckCircleIcon} from "@heroicons/react/24/outline";


export default function Head() {  
    const { user, loading } = useAuth(); // Get user from auth context
    const [isDoc, setIsDoc] = useState(false);
    const [isMenuOpen, setIsMenuOpen] = useState(false);
    const [showLogin, setShowLogin] = useState(false);
    const loginUrl = "/login";
    
    useEffect(() => {
    console.log(user)
    const checkDoc = async () => {
        if (user) {
        try {
            const response = await apiClient.get("/auth/is_doctor/"); // Fix endpoint
            setIsDoc(response.data.is_doctor);
        } catch (error) {
            console.error("Error checking doctor status:", error);
            setIsDoc(false);
        }
        } else {
        setIsDoc(false);
        }
    };
    checkDoc();
    }, [user]);

    useEffect(() => {
        if (window.location.pathname !== "/login" && window.location.pathname !== "/signup") {
            setShowLogin(true);
        }
    }, []);

    const toggleMenu = () => {
        setIsMenuOpen(!isMenuOpen);
    };

    return (
        <div className="w-full h-auto px-8 py-4 justify-between items-center inline-flex shadow-[0px_-1px_8px_0px_rgba(0,0,0,0.15)] bg-white">
            <a href="/" className="justify-start items-center gap-[15px] inline-flex">
                <img className="w-[45px] h-[45px]" src="/images/dclogo.png" />
                <div className="text-[#293241] text-3xl font-bold font-['Inter']">Docty</div>
            </a>
            <div className="justify-center items-center gap-8 mr-4 lg:inline-flex xs:hidden">
                { isDoc && (
                    <a href={user ? "/availability" : loginUrl} className="h-[19px] justify-start items-center gap-1 inline-flex">
                        <CheckCircleIcon className="w-5 h-5 text-[#293241]" strokeWidth={1.5} />
                        <div className="text-[#293241] text-base font-medium font-['Inter']">Availability</div>
                    </a>                    
                    )}
                <a href={user ? "/appointments" : loginUrl} className="h-[19px] justify-start items-center gap-1 inline-flex">
                    <div data-svg-wrapper>
                        <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.47 8.24268C13.7825 8.46956 14.0611 8.72689 14.3059 9.01465C14.5507 9.30241 14.7616 9.61784 14.9387 9.96094C15.1158 10.304 15.246 10.6665 15.3293 11.0483C15.4127 11.4302 15.4596 11.8203 15.47 12.2188C15.47 12.8773 15.3528 13.4971 15.1184 14.0781C14.884 14.6592 14.5611 15.1655 14.1497 15.5972C13.7382 16.0288 13.2616 16.3691 12.72 16.6182C12.1783 16.8672 11.595 16.9945 10.97 17C10.496 17 10.0377 16.9253 9.59497 16.7759C9.15226 16.6265 8.74601 16.4106 8.37622 16.1284C8.00643 15.8462 7.6783 15.5086 7.39185 15.1157C7.10539 14.7228 6.88403 14.2884 6.72778 13.8125H0.469971V1.0625H2.46997V0H3.46997V1.0625H10.47V0H11.47V1.0625H13.47V8.24268ZM1.46997 2.125V4.25H12.47V2.125H11.47V3.1875H10.47V2.125H3.46997V3.1875H2.46997V2.125H1.46997ZM6.49341 12.75C6.47778 12.5785 6.46997 12.4014 6.46997 12.2188C6.46997 11.7428 6.53247 11.2808 6.65747 10.8325C6.78247 10.3843 6.97257 9.96094 7.22778 9.5625H6.46997V8.5H7.46997V9.21387C7.68351 8.93164 7.92049 8.68262 8.18091 8.4668C8.44132 8.25098 8.72257 8.06559 9.02466 7.91064C9.32674 7.7557 9.64185 7.63949 9.96997 7.56201C10.2981 7.48454 10.6314 7.44303 10.97 7.4375C11.4908 7.4375 11.9908 7.52881 12.47 7.71143V5.3125H1.46997V12.75H6.49341ZM10.97 15.9375C11.4543 15.9375 11.9075 15.8407 12.3293 15.647C12.7512 15.4533 13.121 15.1877 13.4387 14.8501C13.7564 14.5125 14.0064 14.1196 14.1887 13.6714C14.371 13.2231 14.4648 13.7389 14.47 12.2188C14.47 11.7041 14.3788 11.2227 14.1965 10.7744C14.0142 10.3262 13.7642 9.93327 13.4465 9.5957C13.1288 9.25814 12.759 8.99251 12.3372 8.79883C11.9153 8.60514 11.4596 8.50553 10.97 8.5C10.4856 8.5 10.0325 8.59684 9.6106 8.79053C9.18872 8.98421 8.81893 9.24984 8.50122 9.5874C8.18351 9.92497 7.93351 10.3179 7.75122 10.7661C7.56893 11.2144 7.47518 11.6986 7.46997 12.2188C7.46997 12.7334 7.56112 13.2148 7.74341 13.6631C7.9257 14.1113 8.1757 14.5042 8.49341 14.8418C8.81112 15.1794 9.18091 15.445 9.60278 15.6387C10.0247 15.8324 10.4804 15.932 10.97 15.9375ZM11.47 11.6875H12.97V12.75H10.47V9.5625H11.47V11.6875ZM2.46997 8.5H3.46997V9.5625H2.46997V8.5ZM4.46997 8.5H5.46997V9.5625H4.46997V8.5ZM4.46997 6.375H5.46997V7.4375H4.46997V6.375ZM2.46997 10.625H3.46997V11.6875H2.46997V10.625ZM4.46997 10.625H5.46997V11.6875H4.46997V10.625ZM7.46997 7.4375H6.46997V6.375H7.46997V7.4375ZM9.46997 7.4375H8.46997V6.375H9.46997V7.4375ZM11.47 7.4375H10.47V6.375H11.47V7.4375Z" fill="#293241"/>
                        </svg>
                    </div>
                    <div className="text-[#293241] text-base font-medium font-['Inter']">Appointments</div>
                </a>
                {!isDoc ? (
                <a href={user ? "/favorite" : loginUrl} className="h-[19px] justify-start items-center gap-1 inline-flex">
                    <div data-svg-wrapper>
                        <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.96997 2.37698L8.54299 2.79374C8.59831 2.85192 8.66464 2.89819 8.738 2.9298C8.81136 2.9614 8.89026 2.97769 8.96997 2.97769C9.04968 2.97769 9.12858 2.9614 9.20194 2.9298C9.27531 2.89819 9.34163 2.85192 9.39695 2.79374L8.96997 2.37698ZM5.01727 11.1289C4.89564 11.0275 4.73926 10.9793 4.58252 10.9948C4.42579 11.0102 4.28154 11.0882 4.18151 11.2115C4.08148 11.3348 4.03386 11.4933 4.04913 11.6522C4.06441 11.811 4.14132 11.9572 4.26295 12.0586L5.01727 11.1289ZM1.33341 8.71734C1.37079 8.7866 1.42127 8.84771 1.48195 8.89719C1.54263 8.94668 1.61233 8.98356 1.68708 9.00574C1.76182 9.02791 1.84014 9.03495 1.91757 9.02645C1.995 9.01795 2.07002 8.99407 2.13834 8.95618C2.20667 8.91829 2.26696 8.86713 2.31578 8.80562C2.3646 8.74411 2.40098 8.67346 2.42286 8.5977C2.44474 8.52194 2.45169 8.44255 2.4433 8.36407C2.43491 8.28558 2.41135 8.20954 2.37397 8.14029L1.33341 8.71734ZM1.65602 5.2919C1.65602 3.56875 2.61671 2.12292 3.92848 1.51461C5.20309 0.92393 6.91574 1.08022 8.54299 2.79374L9.39695 1.96102C7.46765 -0.0722866 5.22523 -0.408099 3.43509 0.421414C1.68448 1.23329 0.469971 3.11833 0.469971 5.2919H1.65602ZM6.20016 13.5974C6.60578 13.9212 7.04067 14.2659 7.48109 14.5271C7.92151 14.7884 8.42439 15 8.96997 15V13.7978C8.72485 13.7978 8.43704 13.7016 8.07965 13.4892C7.72146 13.2777 7.35062 12.9859 6.93471 12.6533L6.20016 13.5974ZM11.7398 13.5974C12.8673 12.6958 14.3096 11.6635 15.4403 10.3724C16.5923 9.05796 17.47 7.42859 17.47 5.2919H16.2839C16.2839 7.05351 15.5723 8.41038 14.5539 9.5741C13.5141 10.7603 12.2039 11.6956 11.0052 12.6533L11.7398 13.5974ZM17.47 5.2919C17.47 3.11833 16.2563 1.23329 14.5049 0.421414C12.7147 -0.408099 10.4739 -0.0722866 8.54299 1.96022L9.39695 2.79374C11.0242 1.08102 12.7369 0.92393 14.0115 1.51461C15.3232 2.12292 16.2839 3.56795 16.2839 5.2919H17.47ZM11.0052 12.6533C10.5893 12.9859 10.2185 13.2777 9.8603 13.4892C9.50211 13.7008 9.21509 13.7978 8.96997 13.7978V15C9.51555 15 10.0184 14.7876 10.4589 14.5271C10.9001 14.2659 11.3342 13.9212 11.7398 13.5974L11.0052 12.6533ZM6.93471 12.6533C6.30532 12.1508 5.66565 11.6699 5.01727 11.1289L4.26295 12.0586C4.91923 12.606 5.61346 13.1286 6.20016 13.5974L6.93471 12.6533ZM2.37397 8.14109C1.89759 7.26947 1.65036 6.28832 1.65602 5.2919H0.469971C0.469971 6.60469 0.802064 7.73235 1.33341 8.71734L2.37397 8.14109Z" fill="#293241"/>
                        </svg>
                    </div>
                    <div className="text-[#293241] text-base font-medium font-['Inter']">Favorites</div>
                </a>
                ) : (
                <a href={user ? "/patients" : loginUrl} className="h-[19px] justify-start items-center gap-1 inline-flex">
                    <div data-svg-wrapper>
                        <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.96997 2.37698L8.54299 2.79374C8.59831 2.85192 8.66464 2.89819 8.738 2.9298C8.81136 2.9614 8.89026 2.97769 8.96997 2.97769C9.04968 2.97769 9.12858 2.9614 9.20194 2.9298C9.27531 2.89819 9.34163 2.85192 9.39695 2.79374L8.96997 2.37698ZM5.01727 11.1289C4.89564 11.0275 4.73926 10.9793 4.58252 10.9948C4.42579 11.0102 4.28154 11.0882 4.18151 11.2115C4.08148 11.3348 4.03386 11.4933 4.04913 11.6522C4.06441 11.811 4.14132 11.9572 4.26295 12.0586L5.01727 11.1289ZM1.33341 8.71734C1.37079 8.7866 1.42127 8.84771 1.48195 8.89719C1.54263 8.94668 1.61233 8.98356 1.68708 9.00574C1.76182 9.02791 1.84014 9.03495 1.91757 9.02645C1.995 9.01795 2.07002 8.99407 2.13834 8.95618C2.20667 8.91829 2.26696 8.86713 2.31578 8.80562C2.3646 8.74411 2.40098 8.67346 2.42286 8.5977C2.44474 8.52194 2.45169 8.44255 2.4433 8.36407C2.43491 8.28558 2.41135 8.20954 2.37397 8.14029L1.33341 8.71734ZM1.65602 5.2919C1.65602 3.56875 2.61671 2.12292 3.92848 1.51461C5.20309 0.92393 6.91574 1.08022 8.54299 2.79374L9.39695 1.96102C7.46765 -0.0722866 5.22523 -0.408099 3.43509 0.421414C1.68448 1.23329 0.469971 3.11833 0.469971 5.2919H1.65602ZM6.20016 13.5974C6.60578 13.9212 7.04067 14.2659 7.48109 14.5271C7.92151 14.7884 8.42439 15 8.96997 15V13.7978C8.72485 13.7978 8.43704 13.7016 8.07965 13.4892C7.72146 13.2777 7.35062 12.9859 6.93471 12.6533L6.20016 13.5974ZM11.7398 13.5974C12.8673 12.6958 14.3096 11.6635 15.4403 10.3724C16.5923 9.05796 17.47 7.42859 17.47 5.2919H16.2839C16.2839 7.05351 15.5723 8.41038 14.5539 9.5741C13.5141 10.7603 12.2039 11.6956 11.0052 12.6533L11.7398 13.5974ZM17.47 5.2919C17.47 3.11833 16.2563 1.23329 14.5049 0.421414C12.7147 -0.408099 10.4739 -0.0722866 8.54299 1.96022L9.39695 2.79374C11.0242 1.08102 12.7369 0.92393 14.0115 1.51461C15.3232 2.12292 16.2839 3.56795 16.2839 5.2919H17.47ZM11.0052 12.6533C10.5893 12.9859 10.2185 13.2777 9.8603 13.4892C9.50211 13.7008 9.21509 13.7978 8.96997 13.7978V15C9.51555 15 10.0184 14.7876 10.4589 14.5271C10.9001 14.2659 11.3342 13.9212 11.7398 13.5974L11.0052 12.6533ZM6.93471 12.6533C6.30532 12.1508 5.66565 11.6699 5.01727 11.1289L4.26295 12.0586C4.91923 12.606 5.61346 13.1286 6.20016 13.5974L6.93471 12.6533ZM2.37397 8.14109C1.89759 7.26947 1.65036 6.28832 1.65602 5.2919H0.469971C0.469971 6.60469 0.802064 7.73235 1.33341 8.71734L2.37397 8.14109Z" fill="#293241"/>
                        </svg>
                    </div>
                    <div className="text-[#293241] text-base font-medium font-['Inter']">Patients</div>
                </a>
                )}

                <a href={user ? "/account" : loginUrl} className="h-[19px] justify-start items-center gap-1 inline-flex">
                    <div data-svg-wrapper className="relative">
                        <svg width="15" height="17" viewBox="0 0 15 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.73497 8.5C9.71567 8.5 11.3213 6.82107 11.3213 4.75C11.3213 2.67893 9.71567 1 7.73497 1C5.75427 1 4.14859 2.67893 4.14859 4.75C4.14859 6.82107 5.75427 8.5 7.73497 8.5Z" stroke="#293241"/>
                            <path d="M11.3214 10H11.5738C12.0982 10.0002 12.6045 10.2005 12.9976 10.5635C13.3906 10.9264 13.6434 11.4269 13.7084 11.971L13.9889 14.314C14.0141 14.5251 13.9961 14.7393 13.9361 14.9426C13.8761 15.1458 13.7754 15.3334 13.6408 15.4928C13.5061 15.6523 13.3406 15.78 13.1551 15.8674C12.9697 15.9549 12.7685 16 12.5651 16H2.90483C2.7014 16 2.50029 15.9549 2.31484 15.8674C2.12939 15.78 1.96384 15.6523 1.82919 15.4928C1.69454 15.3334 1.59386 15.1458 1.53384 14.9426C1.47381 14.7393 1.45582 14.5251 1.48104 14.314L1.76078 11.971C1.82583 11.4267 2.07883 10.9259 2.4722 10.563C2.86556 10.2 3.3722 9.99979 3.89683 10H4.14859" stroke="#293241" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div className="text-[#293241] text-base font-medium font-['Inter']">Account</div>
                </a>
            </div>
            {!loading ? (
                user == null && showLogin ? (
                    <a href="/login" className="text-white px-4 py-2 bg-blue-900 rounded-md xs:flex lg:hidden">Login</a>
                ) : (
                <>
                    <button onClick={toggleMenu} className="lg:hidden xs:inline-flex">
                        {!isMenuOpen && (
                            <svg width="35" height="25" viewBox="0 0 40 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 2.28261C0 1.67722 0.225765 1.09663 0.627628 0.66856C1.02949 0.240488 1.57454 0 2.14286 0H37.8571C38.4255 1.27575e-08 38.9705 0.240488 39.3724 0.66856C39.7742 1.09663 40 1.67722 40 2.28261C40 2.88799 39.7742 3.46858 39.3724 3.89666C38.9705 4.32473 38.4255 4.56522 37.8571 4.56522H2.14286C1.57454 4.56522 1.02949 4.32473 0.627628 3.89666C0.225765 3.46858 0 2.88799 0 2.28261ZM0 17.5C0 16.8946 0.225765 16.314 0.627628 15.886C1.02949 15.4579 1.57454 15.2174 2.14286 15.2174H37.8571C38.4255 15.2174 38.9705 15.4579 39.3724 15.886C39.7742 16.314 40 16.8946 40 17.5C40 18.1054 39.7742 18.686 39.3724 19.114C38.9705 19.5421 38.4255 19.7826 37.8571 19.7826H2.14286C1.57454 19.7826 1.02949 19.5421 0.627628 19.114C0.225765 18.686 0 18.1054 0 17.5ZM2.14286 30.4348H37.8571C38.4255 30.4348 38.9705 30.6753 39.3724 31.1033C39.7742 31.5314 40 32.112 40 32.7174C40 33.3228 39.7742 33.9034 39.3724 34.3314C38.9705 34.7595 38.4255 35 37.8571 35H2.14286C1.57454 35 1.02949 34.7595 0.627628 34.3314C0.225765 33.9034 0 33.3228 0 32.7174C0 32.112 0.225765 31.5314 0.627628 31.1033C1.02949 30.6753 1.57454 30.4348 2.14286 30.4348Z" fill="#3D5A80"/>
                            </svg>
                        )}
                    </button>
                    {isMenuOpen && (
                        <div className="absolute top-0 left-0 w-full h-screen backdrop-blur-sm bg-gray-400/30 shadow-lg lg:hidden xs:flex flex-col z-50 tracking-wide">
                            <div className="flex justify-between items-center p-4 border-b bg-white">
                                <div className="flex items-center gap-2">
                                    <svg width="22.5" height="12.5" viewBox="0 0 40 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 2.28261C0 1.67722 0.225765 1.09663 0.627628 0.66856C1.02949 0.240488 1.57454 0 2.14286 0H37.8571C38.4255 1.27575e-08 38.9705 0.240488 39.3724 0.66856C39.7742 1.09663 40 1.67722 40 2.28261C40 2.88799 39.7742 3.46858 39.3724 3.89666C38.9705 4.32473 38.4255 4.56522 37.8571 4.56522H2.14286C1.57454 4.56522 1.02949 4.32473 0.627628 3.89666C0.225765 3.46858 0 2.88799 0 2.28261ZM0 17.5C0 16.8946 0.225765 16.314 0.627628 15.886C1.02949 15.4579 1.57454 15.2174 2.14286 15.2174H37.8571C38.4255 15.2174 38.9705 15.4579 39.3724 15.886C39.7742 16.314 40 16.8946 40 17.5C40 18.1054 39.7742 18.686 39.3724 19.114C38.9705 19.5421 38.4255 19.7826 37.8571 19.7826H2.14286C1.57454 19.7826 1.02949 19.5421 0.627628 19.114C0.225765 18.686 0 18.1054 0 17.5ZM2.14286 30.4348H37.8571C38.4255 30.4348 38.9705 30.6753 39.3724 31.1033C39.7742 31.5314 40 32.112 40 32.7174C40 33.3228 39.7742 33.9034 39.3724 34.3314C38.9705 34.7595 38.4255 35 37.8571 35H2.14286C1.57454 35 1.02949 34.7595 0.627628 34.3314C0.225765 33.9034 0 33.3228 0 32.7174C0 32.112 0.225765 31.5314 0.627628 31.1033C1.02949 30.6753 1.57454 30.4348 2.14286 30.4348Z" fill="#3D5A80"/>
                                    </svg>
                                    <div className=" text-[#3D5A80] text-lg">Menu</div>                            
                                </div>

                                <button onClick={toggleMenu}>
                                    <svg width="40" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M18 6L6 18" stroke="#3D5A80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M6 6L18 18" stroke="#3D5A80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                            </div>
                            {user ? (
                                <div className="bg-white pb-8 pt-2 shadow-[-2px_2px_4px_0px_rgba(0,0,0,0.5)]">
                                    <a href="/account" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                        <div data-svg-wrapper className="relative">
                                            <svg width="15" height="17" viewBox="0 0 15 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M7.73497 8.5C9.71567 8.5 11.3213 6.82107 11.3213 4.75C11.3213 2.67893 9.71567 1 7.73497 1C5.75427 1 4.14859 2.67893 4.14859 4.75C4.14859 6.82107 5.75427 8.5 7.73497 8.5Z" stroke="#293241"/>
                                                <path d="M11.3214 10H11.5738C12.0982 10.0002 12.6045 10.2005 12.9976 10.5635C13.3906 10.9264 13.6434 11.4269 13.7084 11.971L13.9889 14.314C14.0141 14.5251 13.9961 14.7393 13.9361 14.9426C13.8761 15.1458 13.7754 15.3334 13.6408 15.4928C13.5061 15.6523 13.3406 15.78 13.1551 15.8674C12.9697 15.9549 12.7685 16 12.5651 16H2.90483C2.7014 16 2.50029 15.9549 2.31484 15.8674C2.12939 15.78 1.96384 15.6523 1.82919 15.4928C1.69454 15.3334 1.59386 15.1458 1.53384 14.9426C1.47381 14.7393 1.45582 14.5251 1.48104 14.314L1.76078 11.971C1.82583 11.4267 2.07883 10.9259 2.4722 10.563C2.86556 10.2 3.3722 9.99979 3.89683 10H4.14859" stroke="#293241" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </div>
                                        <div className="text-[#293241] text-base font-medium font-['Inter']">Account</div>
                                    </a>
                                    <a href="/settings" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                        <div data-svg-wrapper>
                                            <svg width="18px" height="18px" viewBox="0 0 50 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M25.0056 34.425C22.6461 34.425 20.3833 33.4847 18.7149 31.8109C17.0464 30.1372 16.1091 27.8671 16.1091 25.5C16.1091 23.1329 17.0464 20.8628 18.7149 19.1891C20.3833 17.5153 22.6461 16.575 25.0056 16.575C27.3651 16.575 29.628 17.5153 31.2964 19.1891C32.9648 20.8628 33.9022 23.1329 33.9022 25.5C33.9022 27.8671 32.9648 30.1372 31.2964 31.8109C29.628 33.4847 27.3651 34.425 25.0056 34.425ZM43.8917 27.9735C43.9933 27.1575 44.0696 26.3415 44.0696 25.5C44.0696 24.6585 43.9933 23.817 43.8917 22.95L49.255 18.7935C49.738 18.411 49.865 17.7225 49.56 17.1615L44.4763 8.3385C44.1713 7.7775 43.485 7.548 42.9258 7.7775L36.5965 10.3275C35.2748 9.333 33.9022 8.466 32.3008 7.8285L31.3603 1.071C31.3087 0.770658 31.1527 0.498343 30.9201 0.302311C30.6875 0.106278 30.3932 -0.000815425 30.0894 4.67535e-06H19.9219C19.2864 4.67535e-06 18.7527 0.459005 18.651 1.071L17.7105 7.8285C16.1091 8.466 14.7365 9.333 13.4147 10.3275L7.08551 7.7775C6.5263 7.548 5.84 7.7775 5.53498 8.3385L0.451256 17.1615C0.120814 17.7225 0.273326 18.411 0.756279 18.7935L6.11961 22.95C6.01793 23.817 5.94168 24.6585 5.94168 25.5C5.94168 26.3415 6.01793 27.1575 6.11961 27.9735L0.756279 32.2065C0.273326 32.589 0.120814 33.2775 0.451256 33.8385L5.53498 42.6615C5.84 43.2225 6.5263 43.4265 7.08551 43.2225L13.4147 40.647C14.7365 41.667 16.1091 42.534 17.7105 43.1715L18.651 49.929C18.7527 50.541 19.2864 51 19.9219 51H30.0894C30.7248 51 31.2586 50.541 31.3603 49.929L32.3008 43.1715C33.9022 42.5085 35.2748 41.667 36.5965 40.647L42.9258 43.2225C43.485 43.4265 44.1713 43.2225 44.4763 42.6615L49.56 33.8385C49.865 33.2775 49.738 32.589 49.255 32.2065L43.8917 27.9735Z"
                                                    fill="#3D5A80"
                                                />
                                            </svg>
                                        </div>
                                        <div className="text-[#293241] text-base font-medium font-['Inter']">Account settings</div>
                                    </a>
                                    {isDoc && 
                                    <a href="/doctor_settings" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                        <div className="flex items-center">
                                            <UserIcon className="w-3.5 h-3.5 text-[#3D5A80]" />
                                            <Cog6ToothIcon className="w-4 h-4 text-[#3D5A80]" />
                                        </div>
                                        <div className="text-[#293241] text-base font-medium font-['Inter']">Doctor Account settings</div>
                                    </a>
                                    }
                                     <a href="/availability" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                        <div className="flex items-center">
                                            <CheckCircleIcon className="w-5 h-5 text-[#3D5A80]" />
                                        </div>
                                        <div className="text-[#293241] text-base font-medium font-['Inter']">Availability</div>
                                    </a>
                                    <a href="/schedule" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                        <div data-svg-wrapper>
                                            <CalendarDateRangeIcon className="w-5 h-5 text-[#3D5A80]" />
                                        </div>
                                        <div className="text-[#293241] text-base font-medium font-['Inter']">Schedule</div>
                                    </a>
                                    {!isDoc ? (
                                        <a href="/favorite" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                            <div data-svg-wrapper>
                                                <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M8.96997 2.37698L8.54299 2.79374C8.59831 2.85192 8.66464 2.89819 8.738 2.9298C8.81136 2.9614 8.89026 2.97769 8.96997 2.97769C9.04968 2.97769 9.12858 2.9614 9.20194 2.9298C9.27531 2.89819 9.34163 2.85192 9.39695 2.79374L8.96997 2.37698ZM5.01727 11.1289C4.89564 11.0275 4.73926 10.9793 4.58252 10.9948C4.42579 11.0102 4.28154 11.0882 4.18151 11.2115C4.08148 11.3348 4.03386 11.4933 4.04913 11.6522C4.06441 11.811 4.14132 11.9572 4.26295 12.0586L5.01727 11.1289ZM1.33341 8.71734C1.37079 8.7866 1.42127 8.84771 1.48195 8.89719C1.54263 8.94668 1.61233 8.98356 1.68708 9.00574C1.76182 9.02791 1.84014 9.03495 1.91757 9.02645C1.995 9.01795 2.07002 8.99407 2.13834 8.95618C2.20667 8.91829 2.26696 8.86713 2.31578 8.80562C2.3646 8.74411 2.40098 8.67346 2.42286 8.5977C2.44474 8.52194 2.45169 8.44255 2.4433 8.36407C2.43491 8.28558 2.41135 8.20954 2.37397 8.14029L1.33341 8.71734ZM1.65602 5.2919C1.65602 3.56875 2.61671 2.12292 3.92848 1.51461C5.20309 0.92393 6.91574 1.08022 8.54299 2.79374L9.39695 1.96102C7.46765 -0.0722866 5.22523 -0.408099 3.43509 0.421414C1.68448 1.23329 0.469971 3.11833 0.469971 5.2919H1.65602ZM6.20016 13.5974C6.60578 13.9212 7.04067 14.2659 7.48109 14.5271C7.92151 14.7884 8.42439 15 8.96997 15V13.7978C8.72485 13.7978 8.43704 13.7016 8.07965 13.4892C7.72146 13.2777 7.35062 12.9859 6.93471 12.6533L6.20016 13.5974ZM11.7398 13.5974C12.8673 12.6958 14.3096 11.6635 15.4403 10.3724C16.5923 9.05796 17.47 7.42859 17.47 5.2919H16.2839C16.2839 7.05351 15.5723 8.41038 14.5539 9.5741C13.5141 10.7603 12.2039 11.6956 11.0052 12.6533L11.7398 13.5974ZM17.47 5.2919C17.47 3.11833 16.2563 1.23329 14.5049 0.421414C12.7147 -0.408099 10.4739 -0.0722866 8.54299 1.96022L9.39695 2.79374C11.0242 1.08102 12.7369 0.92393 14.0115 1.51461C15.3232 2.12292 16.2839 3.56795 16.2839 5.2919H17.47ZM11.0052 12.6533C10.5893 12.9859 10.2185 13.2777 9.8603 13.4892C9.50211 13.7008 9.21509 13.7978 8.96997 13.7978V15C9.51555 15 10.0184 14.7876 10.4589 14.5271C10.9001 14.2659 11.3342 13.9212 11.7398 13.5974L11.0052 12.6533ZM6.93471 12.6533C6.30532 12.1508 5.66565 11.6699 5.01727 11.1289L4.26295 12.0586C4.91923 12.606 5.61346 13.1286 6.20016 13.5974L6.93471 12.6533ZM2.37397 8.14109C1.89759 7.26947 1.65036 6.28832 1.65602 5.2919H0.469971C0.469971 6.60469 0.802064 7.73235 1.33341 8.71734L2.37397 8.14109Z" fill="#293241"/>
                                                </svg>
                                            </div>
                                            <div className="text-[#293241] text-base font-medium font-['Inter']">Favorite</div>
                                        </a>                                        
                                    ) : (
                                        <a href="/patients" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                            <div data-svg-wrapper>
                                                <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M8.96997 2.37698L8.54299 2.79374C8.59831 2.85192 8.66464 2.89819 8.738 2.9298C8.81136 2.9614 8.89026 2.97769 8.96997 2.97769C9.04968 2.97769 9.12858 2.9614 9.20194 2.9298C9.27531 2.89819 9.34163 2.85192 9.39695 2.79374L8.96997 2.37698ZM5.01727 11.1289C4.89564 11.0275 4.73926 10.9793 4.58252 10.9948C4.42579 11.0102 4.28154 11.0882 4.18151 11.2115C4.08148 11.3348 4.03386 11.4933 4.04913 11.6522C4.06441 11.811 4.14132 11.9572 4.26295 12.0586L5.01727 11.1289ZM1.33341 8.71734C1.37079 8.7866 1.42127 8.84771 1.48195 8.89719C1.54263 8.94668 1.61233 8.98356 1.68708 9.00574C1.76182 9.02791 1.84014 9.03495 1.91757 9.02645C1.995 9.01795 2.07002 8.99407 2.13834 8.95618C2.20667 8.91829 2.26696 8.86713 2.31578 8.80562C2.3646 8.74411 2.40098 8.67346 2.42286 8.5977C2.44474 8.52194 2.45169 8.44255 2.4433 8.36407C2.43491 8.28558 2.41135 8.20954 2.37397 8.14029L1.33341 8.71734ZM1.65602 5.2919C1.65602 3.56875 2.61671 2.12292 3.92848 1.51461C5.20309 0.92393 6.91574 1.08022 8.54299 2.79374L9.39695 1.96102C7.46765 -0.0722866 5.22523 -0.408099 3.43509 0.421414C1.68448 1.23329 0.469971 3.11833 0.469971 5.2919H1.65602ZM6.20016 13.5974C6.60578 13.9212 7.04067 14.2659 7.48109 14.5271C7.92151 14.7884 8.42439 15 8.96997 15V13.7978C8.72485 13.7978 8.43704 13.7016 8.07965 13.4892C7.72146 13.2777 7.35062 12.9859 6.93471 12.6533L6.20016 13.5974ZM11.7398 13.5974C12.8673 12.6958 14.3096 11.6635 15.4403 10.3724C16.5923 9.05796 17.47 7.42859 17.47 5.2919H16.2839C16.2839 7.05351 15.5723 8.41038 14.5539 9.5741C13.5141 10.7603 12.2039 11.6956 11.0052 12.6533L11.7398 13.5974ZM17.47 5.2919C17.47 3.11833 16.2563 1.23329 14.5049 0.421414C12.7147 -0.408099 10.4739 -0.0722866 8.54299 1.96022L9.39695 2.79374C11.0242 1.08102 12.7369 0.92393 14.0115 1.51461C15.3232 2.12292 16.2839 3.56795 16.2839 5.2919H17.47ZM11.0052 12.6533C10.5893 12.9859 10.2185 13.2777 9.8603 13.4892C9.50211 13.7008 9.21509 13.7978 8.96997 13.7978V15C9.51555 15 10.0184 14.7876 10.4589 14.5271C10.9001 14.2659 11.3342 13.9212 11.7398 13.5974L11.0052 12.6533ZM6.93471 12.6533C6.30532 12.1508 5.66565 11.6699 5.01727 11.1289L4.26295 12.0586C4.91923 12.606 5.61346 13.1286 6.20016 13.5974L6.93471 12.6533ZM2.37397 8.14109C1.89759 7.26947 1.65036 6.28832 1.65602 5.2919H0.469971C0.469971 6.60469 0.802064 7.73235 1.33341 8.71734L2.37397 8.14109Z" fill="#293241"/>
                                                </svg>
                                            </div>
                                            <div className="text-[#293241] text-base font-medium font-['Inter']">Patients</div>
                                        </a>    
                                    )}

                                    <a href="/appointments" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                        <div data-svg-wrapper>
                                            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M13.47 8.24268C13.7825 8.46956 14.0611 8.72689 14.3059 9.01465C14.5507 9.30241 14.7616 9.61784 14.9387 9.96094C15.1158 10.304 15.246 10.6665 15.3293 11.0483C15.4127 11.4302 15.4596 11.8203 15.47 12.2188C15.47 12.8773 15.3528 13.4971 15.1184 14.0781C14.884 14.6592 14.5611 15.1655 14.1497 15.5972C13.7382 16.0288 13.2616 16.3691 12.72 16.6182C12.1783 16.8672 11.595 16.9945 10.97 17C10.496 17 10.0377 16.9253 9.59497 16.7759C9.15226 16.6265 8.74601 16.4106 8.37622 16.1284C8.00643 15.8462 7.6783 15.5086 7.39185 15.1157C7.10539 14.7228 6.88403 14.2884 6.72778 13.8125H0.469971V1.0625H2.46997V0H3.46997V1.0625H10.47V0H11.47V1.0625H13.47V8.24268ZM1.46997 2.125V4.25H12.47V2.125H11.47V3.1875H10.47V2.125H3.46997V3.1875H2.46997V2.125H1.46997ZM6.49341 12.75C6.47778 12.5785 6.46997 12.4014 6.46997 12.2188C6.46997 11.7428 6.53247 11.2808 6.65747 10.8325C6.78247 10.3843 6.97257 9.96094 7.22778 9.5625H6.46997V8.5H7.46997V9.21387C7.68351 8.93164 7.92049 8.68262 8.18091 8.4668C8.44132 8.25098 8.72257 8.06559 9.02466 7.91064C9.32674 7.7557 9.64185 7.63949 9.96997 7.56201C10.2981 7.48454 10.6314 7.44303 10.97 7.4375C11.4908 7.4375 11.9908 7.52881 12.47 7.71143V5.3125H1.46997V12.75H6.49341ZM10.97 15.9375C11.4543 15.9375 11.9075 15.8407 12.3293 15.647C12.7512 15.4533 13.121 15.1877 13.4387 14.8501C13.7564 14.5125 14.0064 14.1196 14.1887 13.6714C14.371 13.2231 14.4648 13.7389 14.47 12.2188C14.47 11.7041 14.3788 11.2227 14.1965 10.7744C14.0142 10.3262 13.7642 9.93327 13.4465 9.5957C13.1288 9.25814 12.759 8.99251 12.3372 8.79883C11.9153 8.60514 11.4596 8.50553 10.97 8.5C10.4856 8.5 10.0325 8.59684 9.6106 8.79053C9.18872 8.98421 8.81893 9.24984 8.50122 9.5874C8.18351 9.92497 7.93351 10.3179 7.75122 10.7661C7.56893 11.2144 7.47518 11.6986 7.46997 12.2188C7.46997 12.7334 7.56112 13.2148 7.74341 13.6631C7.9257 14.1113 8.1757 14.5042 8.49341 14.8418C8.81112 15.1794 9.18091 15.445 9.60278 15.6387C10.0247 15.8324 10.4804 15.932 10.97 15.9375ZM11.47 11.6875H12.97V12.75H10.47V9.5625H11.47V11.6875ZM2.46997 8.5H3.46997V9.5625H2.46997V8.5ZM4.46997 8.5H5.46997V9.5625H4.46997V8.5ZM4.46997 6.375H5.46997V7.4375H4.46997V6.375ZM2.46997 10.625H3.46997V11.6875H2.46997V10.625ZM4.46997 10.625H5.46997V11.6875H4.46997V10.625ZM7.46997 7.4375H6.46997V6.375H7.46997V7.4375ZM9.46997 7.4375H8.46997V6.375H9.46997V7.4375ZM11.47 7.4375H10.47V6.375H11.47V7.4375Z" fill="#293241"/>
                                            </svg>
                                        </div>
                                        <div className="text-[#293241] text-base font-medium font-['Inter']">Appointments</div>
                                    </a>                        
                                </div>
                            ):(
                                <div className="bg-white pb-4">
                                    <a href="/" className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                    Inicio
                                    </a>
                                    <a href={user ? "/support" : loginUrl} className="flex items-center gap-2 px-4 py-3 text-[#293241] text-base font-medium font-['Inter'] hover:bg-gray-100">
                                        Soporte
                                    </a>                         
                                </div>
                            )
                                }

                        </div>
                    )}
                </>
            ) 
            ) : <div className="w-[35px] h-[25px] xs:flex lg:hidden" />}
        </div>
    );
}